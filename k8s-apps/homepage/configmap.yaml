---
apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
  namespace: homepage
  labels:
    app.kubernetes.io/name: homepage
    app.kubernetes.io/part-of: dashboard
    app.kubernetes.io/managed-by: argocd
data:
  settings.yaml: |
    title: Home
    favicon: homepage.png
    theme: dark
    color: slate
    background:
      image: /images/dmitry-spravko-7fP8ONsZcyw-unsplash.jpg
      blur: sm
      opacity: 40
    cardBlur: sm
    providers:
      longhorn:
        url: http://longhorn-frontend.longhorn-system.svc.cluster.local
    layout:
      Entertainment:
        style: row
        columns: 4
      Productivity:
        style: row
        columns: 2
        Proton:
          style: row
          columns: 2
        AI:
          style: row
          columns: 2
        Self-Hosted:
          style: row
          columns: 2
        Tools:
          style: row
          columns: 2
      Downloads:
        style: row
        columns: 4
      Kubernetes:
        style: row
        columns: 2
        Dashboards:
          style: row
          columns: 2
        Networking:
          style: row
          columns: 1
        Monitoring:
          style: row
          columns: 2
        Kube Storage:
          style: row
          columns: 1
      Network:
        style: row
        columns: 3
      Storage:
        style: row
        columns: 1

  bookmarks.yaml: |
    []

  services.yaml: |
    - Entertainment:
        - Jellyfin:
            icon: jellyfin
            href: https://jellyfin.corp.mulliken.net
            description: Media server
            namespace: jellyfin
            app: jellyfin
            widget:
              type: jellyfin
              url: http://jellyfin.jellyfin.svc.cluster.local:8096
              key: "{{HOMEPAGE_VAR_JELLYFIN_API_KEY}}"
              enableBlocks: true
              enableNowPlaying: true
        - YouTube:
            icon: youtube
            href: https://youtube.com
            description: Video streaming
            ping: youtube.com
        - Newsblur:
            icon: newsblur
            href: https://newsblur.com
            description: RSS reader
            ping: newsblur.com
        - Hacker News:
            icon: hacker-news
            href: https://news.ycombinator.com
            description: Tech news
            ping: news.ycombinator.com
    - Productivity:
        - Proton:
            - Proton Mail:
                icon: sh-proton-mail
                href: https://mail.proton.me
                description: Secure email
                ping: mail.proton.me
            - Proton Calendar:
                icon: sh-proton-calendar
                href: https://calendar.proton.me
                description: Calendar
                ping: calendar.proton.me
            - Proton Drive:
                icon: sh-proton-drive
                href: https://drive.proton.me
                description: Cloud storage
                ping: drive.proton.me
            - Proton Lumo:
                icon: sh-proton-lumo
                href: https://lumo.proton.me
                description: Proton AI
                ping: lumo.proton.me

        - AI:
            - Claude:
                icon: claude-ai
                href: https://claude.ai
                description: AI assistant
                ping: claude.ai
            - ChatGPT:
                icon: openai
                href: https://chat.openai.com
                description: OpenAI chat
                ping: chat.openai.com
            - Gemini:
                icon: google-gemini
                href: https://gemini.google.com
                description: Google AI
                ping: gemini.google.com

        - Self-Hosted:
            - Immich:
                icon: immich
                href: https://photos.corp.mulliken.net
                description: Photo management
                namespace: immich
                app: immich-server
                widget:
                  type: immich
                  url: http://immich-server.immich.svc.cluster.local:2283
                  key: "{{HOMEPAGE_VAR_IMMICH_API_KEY}}"
                  version: 2
                  fields: ["photos", "videos", "storage"]
            - Paperless:
                icon: paperless-ngx
                href: https://paperless.mulliken.net
                description: Document management
                namespace: paperless
                app: paperless
                widget:
                  type: paperlessngx
                  url: http://paperless.paperless.svc.cluster.local:8000
                  key: "{{HOMEPAGE_VAR_PAPERLESS_API_KEY}}"
                  fields: ["total", "inbox"]
            - Plane:
                icon: sh-plane
                href: https://plane.corp.mulliken.net
                description: Project management
                namespace: plane
                podSelector: >-
                  app.name in (
                    plane-plane-app-web,
                    plane-plane-app-api,
                    plane-plane-app-space,
                    plane-plane-app-admin,
                    plane-plane-app-live,
                    plane-plane-app-worker,
                    plane-plane-app-beat-worker,
                    plane-plane-app-pgdb,
                    plane-plane-app-redis,
                    plane-plane-app-minio,
                    plane-plane-app-rabbitmq
                  )
                showStats: true
            - Home Assistant:
                icon: home-assistant
                href: http://homeassistant.corp.mulliken.net:8123
                description: Home automation
                ping: homeassistant.corp.mulliken.net
                widget:
                  type: homeassistant
                  url: http://homeassistant.corp.mulliken.net:8123
                  key: "{{HOMEPAGE_VAR_HOMEASSISTANT_API_KEY}}"
                  fields: ["people_home", "lights_on", "switches_on"]

        - Tools:
            - Status Page:
                icon: statping
                href: https://status.mulliken.net
                description: Service status
                ping: status.mulliken.net
            - ChangeDetection:
                icon: sh-changedetection
                href: https://lemonade.changedetection.io/fruitful-freedom
                description: Website monitoring
                ping: lemonade.changedetection.io
            - CyberChef:
                icon: cyberchef
                href: https://gchq.github.io/CyberChef
                description: Data toolkit
                ping: gchq.github.io
            - Bitwarden:
                icon: bitwarden
                href: https://vault.bitwarden.com
                description: Password manager
                ping: vault.bitwarden.com
            - Excalidraw:
                icon: excalidraw
                href: https://excalidraw.com
                description: Virtual whiteboard
                ping: excalidraw.com
            - GitHub:
                icon: github
                href: https://github.com
                description: Code hosting
                ping: github.com

    - Downloads:
        - Radarr:
            icon: radarr
            href: https://radarr.corp.mulliken.net
            description: Movies
            namespace: sonarr
            app: radarr
            widget:
              type: radarr
              url: http://radarr.sonarr.svc.cluster.local:7878
              key: "{{HOMEPAGE_VAR_RADARR_API_KEY}}"
        - Sonarr:
            icon: sonarr
            href: https://sonarr.corp.mulliken.net
            description: TV shows
            namespace: sonarr
            app: sonarr
            widget:
              type: sonarr
              url: http://sonarr.sonarr.svc.cluster.local:8989
              key: "{{HOMEPAGE_VAR_SONARR_API_KEY}}"
        - qBittorrent:
            icon: qbittorrent
            href: https://qbittorrent.corp.mulliken.net
            description: Torrent client
            namespace: sonarr
            app: downloads
            widget:
              type: qbittorrent
              url: http://downloads.sonarr.svc.cluster.local:8080
              username: "{{HOMEPAGE_VAR_QBITTORRENT_USERNAME}}"
              password: "{{HOMEPAGE_VAR_QBITTORRENT_PASSWORD}}"
        - SABnzbd:
            icon: sabnzbd
            href: https://sabnzbd.corp.mulliken.net
            description: Usenet client
            namespace: sonarr
            app: downloads
            widget:
              type: sabnzbd
              url: http://downloads.sonarr.svc.cluster.local:8085
              key: "{{HOMEPAGE_VAR_SABNZBD_API_KEY}}"
        - Jackett:
            icon: jackett
            href: https://jackett.corp.mulliken.net
            description: Indexer proxy
            namespace: sonarr
            app: downloads

    - Kubernetes:
        - Dashboards:
            - Kubernetes Dashboard:
                icon: kubernetes-dashboard
                href: https://k8s.corp.mulliken.net
                description: Cluster management
                namespace: kubernetes-dashboard
                podSelector: >-
                  app.kubernetes.io/part-of=kubernetes-dashboard
            - Headlamp:
                icon: headlamp
                href: https://headlamp.corp.mulliken.net
                description: Kubernetes web UI
                namespace: headlamp
                app: headlamp

        - Monitoring:
            - Perses:
                icon: mdi-chart-box-outline
                href: https://perses.corp.mulliken.net
                description: Dashboards (CNCF)
                namespace: monitoring
                app: perses
            - Victoria Metrics:
                icon: victoriametrics
                href: https://prometheus.corp.mulliken.net
                description: Metrics
                namespace: monitoring
                app: victoria-metrics
                widget:
                  type: prometheus
                  url: http://victoria-metrics.monitoring.svc.cluster.local:8428

        - Kube Storage:
            - Longhorn:
                icon: longhorn
                href: https://longhorn.corp.mulliken.net
                description: Distributed storage
                namespace: longhorn-system
                podSelector: >-
                  app in (
                    longhorn-ui,
                    longhorn-manager,
                    longhorn-driver-deployer,
                    longhorn-csi-plugin,
                    csi-attacher,
                    csi-provisioner,
                    csi-resizer,
                    csi-snapshotter
                  )

    - Network:
        - UniFi:
            icon: unifi
            href: https://unifi.corp.mulliken.net
            description: Network management
            ping: unifi.corp.mulliken.net
            widget:
              type: unifi
              url: https://unifi.corp.mulliken.net
              username: "{{HOMEPAGE_VAR_UNIFI_USERNAME}}"
              password: "{{HOMEPAGE_VAR_UNIFI_PASSWORD}}"
              fields: ["wlan_users", "lan_users", "wlan_devices", "lan_devices"]
        - Cloudflare:
            icon: cloudflare
            href: https://dash.cloudflare.com
            description: DNS & tunnels
            ping: dash.cloudflare.com
        - Tailscale:
            icon: tailscale
            href: https://login.tailscale.com/admin/machines
            description: VPN service
            ping: login.tailscale.com

    - Storage:
        - Synology NAS:
            icon: synology
            href: https://nas.mulliken.net
            description: Storage & DNS
            ping: nas.mulliken.net

  widgets.yaml: |
    - search:
        provider: custom
        url: https://kagi.com/search?q=
        target: _blank
        suggestionUrl: https://duckduckgo.com/ac/?q=
        showSearchSuggestions: true
    - kubernetes:
        cluster:
          show: true
          cpu: true
          memory: true
          showLabel: true
          label: "cluster"
        nodes:
          show: true
          cpu: true
          memory: true
          showLabel: true
    - longhorn:
        expanded: true
        total: true
        labels: true
        nodes: true
    - unifi_console:
        url: https://unifi.corp.mulliken.net
        username: "{{HOMEPAGE_VAR_UNIFI_USERNAME}}"
        password: "{{HOMEPAGE_VAR_UNIFI_PASSWORD}}"
    - openmeteo:
        label: Home
        latitude: 35.316610442122936
        longitude: -80.820451029149
        timezone: America/New_York
        units: imperial
        cache: 5
        format:
          maximumFractionDigits: 1
        hideErrors: true
    - datetime:
        text_size: xl
        format:
          dateStyle: long
          timeStyle: short

  docker.yaml: |
    {}

  kubernetes.yaml: |
    mode: cluster
    traefik: true
